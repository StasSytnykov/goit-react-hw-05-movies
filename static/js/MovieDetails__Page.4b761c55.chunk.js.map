{"version":3,"file":"static/js/MovieDetails__Page.4b761c55.chunk.js","mappings":"sQAEaA,EAAS,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACvB,OACE,mBAAQA,QAASA,EAASC,KAAK,SAA/B,sB,UCUEC,GAAOC,EAAAA,EAAAA,OAAK,kBAAM,iCAClBC,GAAUD,EAAAA,EAAAA,OAAK,kBACnB,gCAGWE,EAAmB,WAAO,IAAD,IACpC,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,MACRC,EACNV,EADMU,MAAOC,EACbX,EADaW,SAAUC,EACvBZ,EADuBY,aAAcC,EACrCb,EADqCa,OAAQC,EAC7Cd,EAD6Cc,YAAaC,EAC1Df,EAD0De,aAEtDC,EAAW,0CAAsCF,GACjDG,EACJF,GAAgBA,EAAaG,WAAWC,QAAQ,MAAO,KAEzDC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,8GAEKC,EAAAA,EAAAA,IAAapB,GAFlB,OAETF,EAFS,OAGfC,EAASD,GAHM,gDAKfuB,QAAQC,IAAR,MACAC,MAAM,2BANS,yDAAH,qDAShBJ,MACC,CAACnB,IAMJ,OACE,4BACE,SAACV,EAAD,CAAQC,QANU,WAAO,IAAD,IAC1Be,EAAQkB,KAAR,oBAAapB,EAASqB,aAAtB,aAAa,EAAgBC,YAA7B,QAAqC,SAMnC,2BACGd,GACC,gBAAKe,IAAKf,GAAeE,EAAac,IAAI,GAAGC,MAAO,OAEpD,oDAGF,0BACGrB,EADH,KACYE,EADZ,QAGA,wCAAgBK,EAAhB,QAEA,sCACA,uBAAIN,KAEJ,oCACA,wBACGE,GAAUA,EAAOmB,KAAI,gBAAGC,EAAH,EAAGA,KAAM/B,EAAT,EAASA,GAAT,OAAkB,wBAAc+B,GAAL/B,YAIrD,mBAEA,2CAEA,2BACE,yBACE,SAAC,KAAD,CACEgC,GAAI,CACFC,SAAS,GAAD,OAAK/B,EAAMgC,IAAX,SACRT,MAAO,CACLC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,OAJ5B,qBAWF,yBACE,SAAC,KAAD,CACEM,GAAI,CACFC,SAAS,GAAD,OAAK/B,EAAMgC,IAAX,YACRT,MAAO,CACLC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,OAJ5B,2BAYJ,mBAEA,SAAC,EAAAS,SAAD,CAAUC,UAAU,wCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOC,KAAI,UAAKnC,EAAMmC,KAAX,SAAX,UACE,SAAC5C,EAAD,CAAMO,GAAIA,OAGZ,SAAC,KAAD,CAAOqC,KAAI,UAAKnC,EAAMmC,KAAX,YAAX,UACE,SAAC1C,EAAD,CAASK,GAAIA","sources":["components/Button/Button.jsx","components/pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\n\nexport const Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\">\n      Go back\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Link,\n  Route,\n  Switch,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport { Button } from 'components/Button';\n// import { Cast } from '../Cast';\n// import { Reviews } from '../Reviews';\nimport { onFetchMovie } from '../../services/api';\nconst Cast = lazy(() => import('../Cast' /* webpackChunkName: \"Cast__Page\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews' /* webpackChunkName: \"Reviews__Page\" */)\n);\n\nexport const MovieDetailsPage = () => {\n  const [movie, setMovie] = useState({});\n  const { id } = useParams();\n  const match = useRouteMatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { title, overview, release_date, genres, poster_path, vote_average } =\n    movie;\n  const posterImage = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n  const normalisedStirng =\n    vote_average && vote_average.toString().replace(/\\D/g, '');\n\n  useEffect(() => {\n    const onGetMovie = async () => {\n      try {\n        const movie = await onFetchMovie(id);\n        setMovie(movie);\n      } catch (error) {\n        console.log(error);\n        alert('Something went wrong :(');\n      }\n    };\n    onGetMovie();\n  }, [id]);\n\n  const onClickGoBack = () => {\n    history.push(location.state?.from ?? '/');\n  };\n\n  return (\n    <div>\n      <Button onClick={onClickGoBack} />\n      <div>\n        {poster_path ? (\n          <img src={poster_path && posterImage} alt=\"\" width={300} />\n        ) : (\n          <h2>Sorry photo not found.</h2>\n        )}\n\n        <h2>\n          {title} ({release_date})\n        </h2>\n        <p>User score: {normalisedStirng}%</p>\n\n        <h3>Overview</h3>\n        <p>{overview}</p>\n\n        <h3>Genres</h3>\n        <ul>\n          {genres && genres.map(({ name, id }) => <li key={id}>{name}</li>)}\n        </ul>\n      </div>\n\n      <hr />\n\n      <p>Aditional info</p>\n\n      <ul>\n        <li>\n          <Link\n            to={{\n              pathname: `${match.url}/cast`,\n              state: {\n                from: location.state?.from,\n              },\n            }}\n          >\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link\n            to={{\n              pathname: `${match.url}/reviews`,\n              state: {\n                from: location.state?.from,\n              },\n            }}\n          >\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <hr />\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Switch>\n          <Route path={`${match.path}/cast`}>\n            <Cast id={id} />\n          </Route>\n\n          <Route path={`${match.path}/reviews`}>\n            <Reviews id={id} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </div>\n  );\n};\n"],"names":["Button","onClick","type","Cast","lazy","Reviews","MovieDetailsPage","useState","movie","setMovie","id","useParams","match","useRouteMatch","location","useLocation","history","useHistory","title","overview","release_date","genres","poster_path","vote_average","posterImage","normalisedStirng","toString","replace","useEffect","onGetMovie","onFetchMovie","console","log","alert","push","state","from","src","alt","width","map","name","to","pathname","url","Suspense","fallback","path"],"sourceRoot":""}