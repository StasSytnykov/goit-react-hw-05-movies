{"version":3,"file":"static/js/MovieDetails__Page.d021007a.chunk.js","mappings":"6PACA,EAAyB,uB,SCEZA,EAAS,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACvB,OACE,mBAAQC,UAAWC,EAAcF,QAASA,EAASG,KAAK,SAAxD,sB,UCJJ,EAA4B,oCAA5B,EAAgF,wCAAhF,EAAkI,kCAAlI,EAA2K,+BAA3K,EAAiN,+BAAjN,EAA2P,mCAA3P,EAAqS,+BCY/RC,GAAOC,EAAAA,EAAAA,OAAK,kBAAM,iCAClBC,GAAUD,EAAAA,EAAAA,OAAK,kBACnB,gCAGWE,EAAmB,WAAO,IAAD,IACpC,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,MACRC,EACNV,EADMU,MAAOC,EACbX,EADaW,SAAUC,EACvBZ,EADuBY,aAAcC,EACrCb,EADqCa,OAAQC,EAC7Cd,EAD6Cc,YAAaC,EAC1Df,EAD0De,aAEtDC,EAAW,0CAAsCF,GACjDG,EACJF,GAAgBA,EAAaG,WAAWC,QAAQ,MAAO,KAEzDC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,8GAEKC,EAAAA,EAAAA,IAAapB,GAFlB,OAETF,EAFS,OAGfC,EAASD,GAHM,gDAKfuB,QAAQC,IAAR,MACAC,MAAM,2BANS,yDAAH,qDAShBJ,MACC,CAACnB,IAMJ,OACE,iBAAKV,UAAWC,EAAhB,WACE,SAACH,EAAD,CAAQC,QANU,WAAO,IAAD,IAC1BiB,EAAQkB,KAAR,oBAAapB,EAASqB,aAAtB,aAAa,EAAgBC,YAA7B,QAAqC,SAMnC,iBAAKpC,UAAWC,EAAhB,UACGqB,GACC,gBAAKe,IAAKf,GAAeE,EAAac,IAAI,GAAGC,MAAO,OAEpD,oDAEF,iBAAKvC,UAAWC,EAAhB,WACE,0BACGiB,EADH,KACYE,EADZ,QAGA,wCAAgBK,EAAhB,QAEA,sCACA,uBAAIN,KAEJ,oCACA,wBACGE,GAAUA,EAAOmB,KAAI,gBAAGC,EAAH,EAAGA,KAAM/B,EAAT,EAASA,GAAT,OAAkB,wBAAc+B,GAAL/B,eAKvD,mBAEA,cAAGV,UAAWC,EAAd,6BAEA,gBAAID,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,UACE,SAAC,KAAD,CACED,UAAWC,EACXyC,GAAI,CACFC,SAAS,GAAD,OAAK/B,EAAMgC,IAAX,SACRT,MAAO,CACLC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,OAL5B,qBAYF,eAAIpC,UAAWC,EAAf,UACE,SAAC,KAAD,CACED,UAAWC,EACXyC,GAAI,CACFC,SAAS,GAAD,OAAK/B,EAAMgC,IAAX,YACRT,MAAO,CACLC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,OAL5B,2BAaJ,mBAEA,SAAC,EAAAS,SAAD,CAAUC,UAAU,wCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOC,KAAI,UAAKnC,EAAMmC,KAAX,SAAX,UACE,SAAC5C,EAAD,CAAMO,GAAIA,OAGZ,SAAC,KAAD,CAAOqC,KAAI,UAAKnC,EAAMmC,KAAX,YAAX,UACE,SAAC1C,EAAD,CAASK,GAAIA","sources":["webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/pages/MovieDetailsPage/MovieDetailsPage.module.css?f504","components/pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\nexport const Button = ({ onClick }) => {\n  return (\n    <button className={style.button} onClick={onClick} type=\"button\">\n      Go back\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__CyIWr\",\"containerFlex\":\"MovieDetailsPage_containerFlex__umTca\",\"content\":\"MovieDetailsPage_content__f6bsm\",\"text\":\"MovieDetailsPage_text__T0CxL\",\"list\":\"MovieDetailsPage_list__7f+FQ\",\"listItem\":\"MovieDetailsPage_listItem__JWgfR\",\"link\":\"MovieDetailsPage_link__m-GNq\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Link,\n  Route,\n  Switch,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport { Button } from 'components/Button';\nimport { onFetchMovie } from '../../services/api';\nimport style from './MovieDetailsPage.module.css';\nconst Cast = lazy(() => import('../Cast' /* webpackChunkName: \"Cast__Page\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews' /* webpackChunkName: \"Reviews__Page\" */)\n);\n\nexport const MovieDetailsPage = () => {\n  const [movie, setMovie] = useState({});\n  const { id } = useParams();\n  const match = useRouteMatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { title, overview, release_date, genres, poster_path, vote_average } =\n    movie;\n  const posterImage = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n  const normalisedStirng =\n    vote_average && vote_average.toString().replace(/\\D/g, '');\n\n  useEffect(() => {\n    const onGetMovie = async () => {\n      try {\n        const movie = await onFetchMovie(id);\n        setMovie(movie);\n      } catch (error) {\n        console.log(error);\n        alert('Something went wrong :(');\n      }\n    };\n    onGetMovie();\n  }, [id]);\n\n  const onClickGoBack = () => {\n    history.push(location.state?.from ?? '/');\n  };\n\n  return (\n    <div className={style.container}>\n      <Button onClick={onClickGoBack} />\n      <div className={style.containerFlex}>\n        {poster_path ? (\n          <img src={poster_path && posterImage} alt=\"\" width={300} />\n        ) : (\n          <h2>Sorry photo not found.</h2>\n        )}\n        <div className={style.content}>\n          <h2>\n            {title} ({release_date})\n          </h2>\n          <p>User score: {normalisedStirng}%</p>\n\n          <h3>Overview</h3>\n          <p>{overview}</p>\n\n          <h3>Genres</h3>\n          <ul>\n            {genres && genres.map(({ name, id }) => <li key={id}>{name}</li>)}\n          </ul>\n        </div>\n      </div>\n\n      <hr />\n\n      <p className={style.text}>Aditional info</p>\n\n      <ul className={style.list}>\n        <li className={style.listItem}>\n          <Link\n            className={style.link}\n            to={{\n              pathname: `${match.url}/cast`,\n              state: {\n                from: location.state?.from,\n              },\n            }}\n          >\n            Cast\n          </Link>\n        </li>\n        <li className={style.listItem}>\n          <Link\n            className={style.link}\n            to={{\n              pathname: `${match.url}/reviews`,\n              state: {\n                from: location.state?.from,\n              },\n            }}\n          >\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <hr />\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Switch>\n          <Route path={`${match.path}/cast`}>\n            <Cast id={id} />\n          </Route>\n\n          <Route path={`${match.path}/reviews`}>\n            <Reviews id={id} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </div>\n  );\n};\n"],"names":["Button","onClick","className","style","type","Cast","lazy","Reviews","MovieDetailsPage","useState","movie","setMovie","id","useParams","match","useRouteMatch","location","useLocation","history","useHistory","title","overview","release_date","genres","poster_path","vote_average","posterImage","normalisedStirng","toString","replace","useEffect","onGetMovie","onFetchMovie","console","log","alert","push","state","from","src","alt","width","map","name","to","pathname","url","Suspense","fallback","path"],"sourceRoot":""}